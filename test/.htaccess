# Enable RewriteEngine
RewriteEngine On

# Set the base for rewrites
RewriteBase /test/

# Disable LiteSpeed cache entirely for test environment
<IfModule LiteSpeed>
CacheLookup off
</IfModule>

# Prevent caching of index.html (SPA entry point)
<FilesMatch "^index\.html$">
  Header set Cache-Control "no-cache, no-store, must-revalidate"
  Header set Pragma "no-cache"
  Header set Expires "0"
</FilesMatch>

# Serve static SEO pages directly (bypass SPA routing)
RewriteRule ^pages/ - [L]

# Serve static asset subdirectories directly (seo css, etc.)
RewriteRule ^assets/seo/ - [L]

# If the requested file or directory exists, serve it directly
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Otherwise, redirect all requests to index.html for SPA routing
RewriteRule ^ index.html [L]
